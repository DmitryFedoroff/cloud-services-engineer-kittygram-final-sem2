# üêà Kittygram - –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∫–æ—Ç–∏–∫–æ–≤

[![Deploy Status](https://img.shields.io/badge/deploy-passing-brightgreen)](http://89.169.185.94)
[![Docker](https://img.shields.io/badge/docker-ready-blue)](https://hub.docker.com/u/dmitryfedoroff)
[![Terraform](https://img.shields.io/badge/terraform-v1.8.3-purple)](https://www.terraform.io/)
[![Python](https://img.shields.io/badge/python-3.10-blue)](https://www.python.org/)

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**Kittygram** ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π –∫–æ—à–µ–∫, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –¥–µ–ª–∏—Ç—å—Å—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ —Å–≤–æ–∏—Ö –ø–∏—Ç–æ–º—Ü–µ–≤, –¥–æ–±–∞–≤–ª—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–∏—Ö –∏ –æ—Ç–º–µ—á–∞—Ç—å –∏—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è. –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö DevOps-–ø—Ä–∞–∫—Ç–∏–∫ –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –≤ –æ–±–ª–∞—á–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ Yandex Cloud.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|--------|----------|
| Python | 3.10 | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è |
| Django | 3.2.3 | Web-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| Django REST Framework | 3.12.4 | API —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| Djoser | 2.1.0 | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ |
| PostgreSQL | 13.10 | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| Gunicorn | 20.1.0 | WSGI HTTP —Å–µ—Ä–≤–µ—Ä |
| Pillow | 9.0.0 | –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π |

### Frontend
| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|--------|----------|
| React | 17.x | UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ |
| React Router | 5.x | –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è |
| Node.js | 18 | JavaScript runtime |

### DevOps & Infrastructure
| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|--------|----------|
| Docker | latest | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è |
| Docker Compose | 3.9 | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ |
| Nginx | 1.22.1 | –í–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ reverse proxy |
| Terraform | 1.8.3 | Infrastructure as Code |
| GitHub Actions | - | CI/CD pipeline |
| Yandex Cloud | - | –û–±–ª–∞—á–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ |

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
cloud-services-engineer-kittygram-final-sem2/
‚îú‚îÄ‚îÄ backend/                      # Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ cats/                     # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ kittygram_backend/        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile                # Docker –æ–±—Ä–∞–∑ backend
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt          # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ manage.py                 # Django —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
‚îÇ
‚îú‚îÄ‚îÄ frontend/                     # React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/                      # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ public/                   # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile                # Docker –æ–±—Ä–∞–∑ frontend
‚îÇ   ‚îî‚îÄ‚îÄ package.json              # Node.js –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ
‚îú‚îÄ‚îÄ nginx/                        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx
‚îÇ   ‚îú‚îÄ‚îÄ nginx.conf                # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile                # Docker –æ–±—Ä–∞–∑ nginx
‚îÇ
‚îú‚îÄ‚îÄ infra/                        # Terraform –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ vm.tf                     # –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ vpc.tf                    # –°–µ—Ç–µ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ storage.tf                # S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è tfstate
‚îÇ   ‚îú‚îÄ‚îÄ provider.tf               # –ü—Ä–æ–≤–∞–π–¥–µ—Ä Yandex Cloud
‚îÇ   ‚îú‚îÄ‚îÄ variables.tf              # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ outputs.tf                # –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ init/                     # –°–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
‚îÇ       ‚îî‚îÄ‚îÄ vm-install.yml        # Cloud-init –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ .github/workflows/            # GitHub Actions
‚îÇ   ‚îú‚îÄ‚îÄ deploy.yml                # –û—Å–Ω–æ–≤–Ω–æ–π pipeline –¥–µ–ø–ª–æ—è
‚îÇ   ‚îî‚îÄ‚îÄ terraform.yml             # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
‚îÇ
‚îú‚îÄ‚îÄ tests/                        # –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ test_connection.py        # –¢–µ—Å—Ç—ã –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ test_dockerhub_images.py  # –¢–µ—Å—Ç—ã Docker –æ–±—Ä–∞–∑–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ test_files.py             # –¢–µ—Å—Ç—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.production.yml # Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ .env.example                  # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ tests.yml                     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
‚îî‚îÄ‚îÄ kittygram_workflow.yml        # –õ–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–ø–∏—è workflow
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose
- Git
- –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É —Å Ubuntu 24.04 LTS

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
git clone https://github.com/DmitryFedoroff/cloud-services-engineer-kittygram-final-sem2.git
cd cloud-services-engineer-kittygram-final-sem2
```

2. **–°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ —É–∫–∞–∂–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
```

3. **–ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**
```bash
docker-compose -f docker-compose.production.yml up -d
```

4. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –∏ —Å–±–æ—Ä —Å—Ç–∞—Ç–∏–∫–∏**
```bash
docker-compose -f docker-compose.production.yml exec -T kitty_backend python manage.py migrate
docker-compose -f docker-compose.production.yml exec -T kitty_backend python manage.py collectstatic --noinput
```

5. **–°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
```bash
docker-compose -f docker-compose.production.yml exec kitty_backend python manage.py createsuperuser
```

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Production

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ GitHub Actions

–ü—Ä–∏ push –≤ –≤–µ—Ç–∫—É `main` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è pipeline, –∫–æ—Ç–æ—Ä—ã–π:

1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥ –ª–∏–Ω—Ç–µ—Ä–æ–º (flake8)
2. –°–æ–±–∏—Ä–∞–µ—Ç Docker –æ–±—Ä–∞–∑—ã
3. –ü—É–±–ª–∏–∫—É–µ—Ç –æ–±—Ä–∞–∑—ã –≤ DockerHub
4. –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
5. –ó–∞–ø—É—Å–∫–∞–µ—Ç –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã
6. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram

### –†—É—á–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã —á–µ—Ä–µ–∑ Terraform

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Terraform**
```bash
cd infra/
terraform init
```

2. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π**
```bash
terraform plan
```

3. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
```bash
terraform apply -auto-approve
```

4. **–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–∞—Ö**
```bash
terraform output
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤

### GitHub Secrets –¥–ª—è CI/CD

| –°–µ–∫—Ä–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è |
|--------|----------|-----------------|
| **Docker Hub** |
| `DOCKERHUB_USERNAME` | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Docker Hub | `xxxxxxxxxxxxxx` |
| `DOCKERHUB_PASSWORD` | Access Token Docker Hub | `dckr_pat_xxxxx` |
| **SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** |
| `SERVER_IP` | IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ | `89.169.185.94` |
| `SSH_USERNAME` | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è SSH | `xxxxxxxxxxxxxx` |
| `SSH_PRIVATE_KEY` | –ü—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á | `-----BEGIN RSA PRIVATE KEY-----...` |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** |
| `POSTGRES_USER` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å PostgreSQL | `kittygram_user` |
| `POSTGRES_PASSWORD` | –ü–∞—Ä–æ–ª—å PostgreSQL | `secure_password` |
| `POSTGRES_DB` | –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö | `kittygram` |
| `DB_HOST` | –•–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö | `kitty_postgres` |
| `DB_PORT` | –ü–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö | `5432` |
| **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** |
| `SECRET_KEY` | Django Secret Key | `xxxxxxxxxxxxxx` |
| **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** |
| `TELEGRAM_TO` | ID –ø–æ–ª—É—á–∞—Ç–µ–ª—è –≤ Telegram | `xxxxxxxxxxxxxx` |
| `TELEGRAM_TOKEN` | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ Telegram | `7860549976:xxxxx` |

### Terraform Secrets –¥–ª—è Yandex Cloud

| –°–µ–∫—Ä–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ì–¥–µ –ø–æ–ª—É—á–∏—Ç—å |
|--------|----------|--------------|
| `YC_CLOUD_ID` | ID –æ–±–ª–∞–∫–∞ | –ö–æ–Ω—Å–æ–ª—å Yandex Cloud |
| `YC_FOLDER_ID` | ID –∫–∞—Ç–∞–ª–æ–≥–∞ | –ö–æ–Ω—Å–æ–ª—å Yandex Cloud |
| `YC_KEY_JSON` | Service Account –∫–ª—é—á (base64) | `yc iam key create` |
| `SSH_KEY` | –ü—É–±–ª–∏—á–Ω—ã–π SSH –∫–ª—é—á | `ssh-keygen -t rsa` |
| `YC_ACCESS_KEY` | Access Key –¥–ª—è S3 | –ö–æ–Ω—Å–æ–ª—å Yandex Cloud |
| `YC_SECRET_KEY` | Secret Key –¥–ª—è S3 | –ö–æ–Ω—Å–æ–ª—å Yandex Cloud |

## Docker –æ–±—Ä–∞–∑—ã

–í—Å–µ –æ–±—Ä–∞–∑—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ Docker Hub:

| –û–±—Ä–∞–∑ | –û–ø–∏—Å–∞–Ω–∏–µ | –†–∞–∑–º–µ—Ä |
|-------|----------|--------|
| `dmitryfedoroff/kittygram_backend:latest` | Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å Gunicorn | ~450MB |
| `dmitryfedoroff/kittygram_frontend:latest` | React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ | ~350MB |
| `dmitryfedoroff/kittygram_gateway:latest` | Nginx reverse proxy | ~25MB |

## CI/CD Pipeline

### –û—Å–Ω–æ–≤–Ω–æ–π workflow (deploy.yml)

1. **Matrix ¬∑ Check PEP8** - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø—Ä–æ–≥–æ–Ω –ª–∏–Ω—Ç–µ—Ä–æ–≤ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–µ—Ä—Å–∏—è—Ö Python.
   *2 –¥–∂–æ–±–∞, —Å—É–º–º–∞—Ä–Ω–æ < 30 —Å; –∂–µ—Å—Ç–∫–æ–µ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ —Å—Ç–∏–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –µ—â–µ –¥–æ —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞.*

2. **Push to DockerHub** - —Å–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–æ–≤, —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ `SHA`-–∫–æ–º–º–∏—Ç—É –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è.
   *~ 2 –º–∏–Ω. 09 —Å–µ–∫.; –≤—ã–≤–æ–¥–∏–º–æ–µ –∏–º—è —Ç–µ–≥–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∫–æ—Ä–æ—Ç–∫–∏–º —Ö—ç—à–µ–º, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç traceability.*

3. **Deploy to remote server** - –≤—ã–∫–ª–∞–¥–∫–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã–π VPS —á–µ—Ä–µ–∑ `scp` + `ssh`.
   *~ 5 –º–∏–Ω. 55 —Å–µ–∫.; –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —Å–µ—Ä–≤–∏—Å—ã, –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è health-probes.*

4. **Run Auto Tests** - –±—ã—Å—Ç—Ä—ã–π smoke-suite, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç—Ä–µ–ª—è–µ—Ç –ø–æ —Å–≤–µ–∂–µ–º—É –ø—Ä–æ–¥–æ–≤–æ–º—É URL.
   *9 —Å–µ–∫. - –∏ —Ç—ã —Ç–æ—á–Ω–æ –∑–Ω–∞–µ—à—å, —á—Ç–æ endpoints –æ—Ç–≤–µ—á–∞—é—Ç 200 OK, –∞ –Ω–µ 502 Bad Gateway.*

5. **Send Message to Telegram** ‚Äî –±–æ—Ç –ø—É–±–ª–∏–∫—É–µ—Ç –∑–µ–ª–µ–Ω—ã–π –æ—Ç—á–µ—Ç. *10 —Å–µ–∫. –Ω–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏ –∫–æ–º–∞–Ω–¥–∞ —É–∂–µ —Ö–ª–æ–ø–∞–µ—Ç –≤ –ª–∞–¥–æ—à–∏ –≤ –æ–±—â–µ–º —á–∞—Ç–µ.*

<details>
<summary><b>–°–∫—Ä–∏–Ω—à–æ—Ç</b></summary>

![CI/CD Pipeline Execution](screenshots/screenshot_02.png)
</details>

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –¥–µ–ø–ª–æ–µ –≤ –º–æ–µ–º Telegram-–±–æ—Ç–µ [**@KittyBot"**](https://t.me/my_kitty_messenger_bot)

<details>
<summary><b>–°–∫—Ä–∏–Ω—à–æ—Ç</b></summary>

![–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram-–±–æ—Ç–µ](screenshots/screenshot_01.png)
</details>


### Terraform workflow (terraform.yml)

–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ GitHub Actions —Å –≤—ã–±–æ—Ä–æ–º –¥–µ–π—Å—Ç–≤–∏—è:
- `plan` - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–ª–∞–Ω–∏—Ä—É–µ–º—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `apply` - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `destroy` - —É–¥–∞–ª–µ–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ Health Checks

### Docker Compose Health Checks

| –°–µ—Ä–≤–∏—Å | –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ | –ò–Ω—Ç–µ—Ä–≤–∞–ª | –¢–∞–π–º–∞—É—Ç |
|--------|------------------|----------|---------|
| `kitty_postgres` | `pg_isready -U ${POSTGRES_USER}` | 10s | 5s |
| `kitty_backend` | TCP –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞ 9000 | 10s | 5s |

### Endpoints –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

- **–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: http://89.169.185.94/
- **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å Django**: http://89.169.185.94/admin/
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: http://89.169.185.94/api/

## API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| POST | `/api/users/` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| POST | `/api/token/login/` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ |
| POST | `/api/token/logout/` | –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã |
| GET | `/api/users/me/` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ |

### –ö–æ—Ç–∏–∫–∏
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/api/cats/` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ—Ç–∏–∫–æ–≤ (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π) |
| POST | `/api/cats/` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ—Ç–∏–∫–∞ |
| GET | `/api/cats/{id}/` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ—Ç–∏–∫–µ |
| PATCH | `/api/cats/{id}/` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ |
| DELETE | `/api/cats/{id}/` | –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ—Ç–∏–∫–∞ |

### –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/api/achievements/` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π |
| POST | `/api/achievements/` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è |

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ `.env`:

```env
# PostgreSQL
POSTGRES_DB=kittygram
POSTGRES_USER=kittygram_user
POSTGRES_PASSWORD=kittygram_password

# Django
SECRET_KEY=your-secret-key-here
DEBUG=False

# Database connection
DB_HOST=kitty_postgres
DB_PORT=5432
```

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **–ê–≤—Ç–æ—Ä**: –î–º–∏—Ç—Ä–∏–π –§–µ–¥–æ—Ä–æ–≤
- **–≠–ª. –ø–æ—á—Ç–∞**: [fedoroffx@gmail.com](mailto:fedoroffx@gmail.com)
- **Telegram**: [https://t.me/dmitryfedoroff](https://t.me/dmitryfedoroff)